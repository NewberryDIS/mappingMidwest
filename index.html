<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>NDIS Demo</title>
        <!-- <script src="jQuery.js"></script> -->
        <script
            src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
        <script src="data.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="templated.css">
        <style>
            #logo {
                font-size: 35px;
                text-shadow: 1px 1px #444; 
                font-family: \'Bitter\', serif; 
                font-weight: 900;
            }
        </style>
    </head>
    <body>
    <div id="bodydiv"></div>
    <ul class="menu-list hide" id="menuList"></ul>
    <header style="position: sticky; top: 10px">
        <div class="newbNavbar">
            <div class="newbNavbarLeft">
                <a href="https://www.newberry.com" class="newberryHome">
                    <img id="newberryN" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" />
                </a>
                <a href="digital/" class="newberryDigiHome">
                    &gt; Digital Newberry
                </a>
            </div>
            <!-- <div id="logo">Mapping the Midwest</div> -->
            <div class="newbNavbarRight">
                <a class="newberryDigiHome" id="rightTitle"></a>
                <div class="menuButton" onclick="menuClick(this)">
                    <div class="bar1"></div>
                    <div class="bar2"></div>
                    <div class="bar3"></div>
                </div>
            </div>
        </div>

    </header>
    <div class="headerTwo">

        <div id="titleLower">
            <div id="logo"></div>
        </div>
        <div class="contentNavbar">
            <ul id="contentNavList"></ul>
        </div>
    </div>
    <main>
        <div id="mainText"></div>
        <div id="questions"></div>
    </main>
    <footer>
        <div class="credits">
            <div class="credainer">
                <a href="http://www.newberry.org">
                    <img src="nlogo-white.gif" alt="">
                </a>
                <a href="neh.com">
                    <img src="H-logo-white.png" alt="">
                </a>
            </div>
        </div>
    </footer>
    </body>
    <script>
        var pageId = 'mm'
        $('body').css('background-image','url(\'wp_' + pageId + '-c.jpg\')');
        $('#logo').append(logoText[pageId][0]);
        var contentNavHtml = [];
        for (n in contentNav[pageId]){
            var arr =  contentNav[pageId][n];
            contentNavHtml.push('<li' + ( window.location.pathname.indexOf(arr[0]) > -1  ? ' class="active"' : '') + '><a href="' + arr[0] + '.html">' + arr[1] + '</a></li>'); 
        }
        $('#contentNavList').append(contentNavHtml);
        $('#menuList').append(contentNavHtml);
        var mainTextText = '';
        for (n in mainTextContent[pageId].text) {
            console.log(mainTextContent[pageId].text[n] );
            mainTextText += '<p>' + mainTextContent[pageId].text[n] + '</p>';
        }
        $('#mainText').append('<h2>' + mainTextContent[pageId].title + '</h2>' + mainTextText);
        if(pageId === 'iotmw') {
            console.log(iotmwQuestions);
        }
        // function contentNavigation(list){
        //     var target = document.querySelector('#contentNavList'),
        //         n;
        //     for (n in list){
        //         var cNavLi = document.createElement('li'),
        //             cNavLink = document.createElement('a');
        //         cNavLink.id = 'cNavLink';
        //         cNavLink.href = list[n][0];
        //         cNavLink.appendChild( document.createTextNode(list[n][1]));
        //         cNavLi.appendChild(cNavLink);
        //         target.appendChild(cNavLi);
        //     }
        // }
        // function content(contentObj){
        //     var target = document.querySelector('#mainText'),
        //         title = document.createElement('h2'),
        //         x;
        //     title.appendChild( document.createTextNode(contentObj.title) );
        //     target.appendChild(title);
        //     for (x in contentObj.text){
        //         var content = document.createElement('p');
        //         content.appendChild( document.createTextNode(contentObj.text[x]) );
        //         target.appendChild(content);
        //     }
        // }
        // function flippyContent(flippyArray){
        //     var target = document.querySelector('#questions'),
        //         x;
        //     for (x in flippyArray){
        //         var div = document.createElement('div'),
        //             spanOne = document.createElement('span')
        //             spanTwo = document.createElement('span')
        //             ansLine = document.createElement('p'),
        //             ansLink = document.createElement('a');
        //         div.id = 'qDiv-' + x;
        //         spanOne.id = 'qSpan-' + x + '-one';
        //         spanTwo.id = 'qSpan-' + x + '-two';
        //         // console.log(flippyArray[x].url)
        //         ansLink.href = 'https://publications.newberry.org/digital/indians-midwest/' + flippyArray[x].url;
        //         ansLink.appendChild(document.createTextNode( flippyArray[x].article))
        //         ansLine.appendChild(document.createTextNode('Go to '));
        //         ansLine.appendChild(ansLink);
        //         ansLine.appendChild(document.createTextNode(' for more detail.'));
        //         spanTwo.appendChild( document.createTextNode(flippyArray[x].a) );
        //         spanTwo.appendChild(ansLine);
        //         spanOne.appendChild( document.createTextNode(flippyArray[x].q) );
        //         div.appendChild(spanOne);
        //         spanOne.appendChild(spanTwo);
        //         target.appendChild(div);
        //     }
        // }
        // function navigationMenu(list){
        //     var target = document.querySelector('#menuList'),
        //         n;
        //     for (n in list){
        //         var cNavLi = document.createElement('li'),
        //             cNavLink = document.createElement('a');
        //         cNavLink.id = 'mNavLink';
        //         cNavLink.href = list[n][0];
        //         cNavLink.appendChild( document.createTextNode(list[n][1]));
        //         cNavLi.appendChild(cNavLink);
        //         target.appendChild(cNavLi);
        //     }
        // }
        function menuClick(x) {
            x.classList.toggle("change");
            $('#menuList').toggleClass('hide')
        }

            // $(window).scroll(function(){
            //     if ($(this).scrollTop() > 100 ) {
            //             $('#titleRaised').empty().append(logoText[pageId][1]);
            //             $('#titleLower').empty();
            //     } else {
            //         $('#titleRaised').empty();
            //         $('#titleLower').empty().append(logoText[pageId][0]);
            //     }
            // })
    </script>
</html>